package com.example.demo.serviceImpl;

import java.security.SecureRandom;
import java.util.UUID;
import java.util.stream.Collectors;
import java.util.stream.IntStream;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.stereotype.Service;

import com.example.demo.model.EmployeePasswordResponse;
import com.example.demo.reposiory.UserDetails;
@Service
public class NewPasswordService {
	
	@Autowired
	UserDetails userDetails;
	
	 public String generateRandomPassword(String employeeId,String userName)
	    {
	        // ASCII range – alphanumeric (0-9, a-z, A-Z)
	        final String chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
	 
	        SecureRandom random = new SecureRandom();
	        String Password= UUID.randomUUID().toString();
	        // each iteration of the loop randomly chooses a character from the given
	        // ASCII range and appends it to the `StringBuilder` instance
	        return IntStream.range(0, 10)
	                .map(i -> random.nextInt(chars.length()))
	                .mapToObj(randomIndex -> String.valueOf(chars.charAt(randomIndex)))
	                .collect(Collectors.joining());
	    }
       
	 public static EmployeePasswordResponse buildSuccessResponse(HttpStatus statusCode, Object result) {

		 EmployeePasswordResponse employeePasswordResponse = new EmployeePasswordResponse();
		 employeePasswordResponse.setResult(result);
		 employeePasswordResponse.setErrors(new String[] {});
		 employeePasswordResponse.setHttpCode(statusCode.value());

			return employeePasswordResponse;
		    }
}
